<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Number Guessing Gamele>
  <style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    text-align: center;
    padding-top: 50px;
  }

  form {
    margin-bottom: 20px;
  }

  input[type="number"] {
    padding: 10px;
    width: 200px;
    font-size: 16px;
    margin-right: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  input[type="submit"] {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  input[type="submit"]:disabled {
    background-color: #aaa;
    cursor: not-allowed;
  }

  #result {
    font-size: 20px;
    margin: 15px 0;
    font-weight: bold;
    color: #333;
  }

  #previousGuess,
  #raminingGuess {
    font-weight: bold;
    color: #555;
  }

  .button {
    margin-top: 20px;
    cursor: pointer;
  }

  .button h2 {
    color: #28a745;
    font-size: 20px;
    text-decoration: underline;
  }
</style>

</head>
<body>
  <form>
    <input type="number" id="numberGuessed" placeholder="Enter number btw 1-100">
    <input type="submit" id="submit" value="Submit Guess">
  </form>
  <div>
    <p id="result"></p>
    <p>Already Guessed: <span id="previousGuess"></span></p> 
    <p>Remaining Guess: <span id="raminingGuess">10</span></p>
    <div class="resultParas"></div>
  </div>
</body>

<script>
  let randomNumber = parseInt(Math.random() * 100 + 1);
  const submit = document.querySelector("#submit");
  const guessInput = document.querySelector("#numberGuessed");
  const prev_Guess = document.querySelector("#previousGuess");
  const rem_Guess = document.querySelector("#raminingGuess");
  const message = document.querySelector("#result");
  const startOver = document.querySelector(".resultParas");
  const p = document.createElement('p');

  let playGame = true;
  let valGuessed = [];
  let numGuess = 0;

  if (playGame) {
    submit.addEventListener('click', function (e) {
      e.preventDefault();
      let guess = parseInt(guessInput.value);
      checkGuess(guess);
    });
  }

  function checkGuess(guess) {
    if (guess < 0 || guess > 100) {
      alert("Enter Value btw 1 to 100");
    } else {
      numGuess++;

      validateGuess(guess); // âœ… Always validate guess before checking game over

      if (numGuess === 10 && guess !== randomNumber) {
        message.innerHTML = `Game Over! The correct number was ${randomNumber}`;
        endGame();
      }
    }
  }

  function validateGuess(guess) {
    valGuessed.push(guess);
    displayValues(guess);

    if (randomNumber == guess) {
      message.innerHTML = `Your Guess is correct`;
      endGame();
    } else if (randomNumber < guess) {
      message.innerHTML = `Your Guess is too high`;
    } else if (randomNumber > guess) {
      message.innerHTML = `Your Guess is too low`;
    }
  }

  function displayValues(guess) {
    prev_Guess.innerHTML = `<span>${valGuessed.join(', ')}</span>`;
    rem_Guess.innerHTML = 10 - valGuessed.length;
    if (valGuessed.length === 10) {
      guessInput.disabled = true;
      submit.disabled = true;
      playGame = false;
    }
  }

  function endGame() {
    guessInput.disabled = true;
    submit.disabled = true;
    playGame = false;

    guessInput.value = '';
    p.classList.add('button');
    p.innerHTML = `<h2 id="newGame">Start new Game</h2>`;
    startOver.appendChild(p);
    newGame();
  }

  function newGame() {
    const newGameButton = document.querySelector('#newGame');
    newGameButton.addEventListener('click', function () {
      randomNumber = parseInt(Math.random() * 100 + 1);
      valGuessed = [];
      numGuess = 0;
      prev_Guess.innerHTML = '';
      rem_Guess.innerHTML = '10';
      guessInput.removeAttribute('disabled');
      submit.removeAttribute('disabled');
      startOver.removeChild(p);
      message.innerHTML = '';
      guessInput.value = '';
      playGame = true;
    });
  }
</script>
</html>

